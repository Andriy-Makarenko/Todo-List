{% extends "base.html" %}
{% load crispy_forms_filters %}

{% block content %}
     <h1>
    TODO list
    <a href="{% url 'tasks:task-create' %}" class="btn btn-primary link-to-page">
      Create
    </a>
  </h1>

    {% if task_list %}
    <ul>
      {% for task in task_list %}
         <br>
        <h4>{{ task.content }}</h4>
        {% if task.is_done == False %}
          <strong style="color: red">Not done</strong>
        {% else %}
            <strong style="color: green">Done</strong>
        {% endif %}

        Created: {{ task.deadline }}
        <div style="color: red">Deadline: {{ task.creation_date }}</div>
        Tags: {% for tag in task.tags.all %}
                {{ tag.theme }}

        <a href="{% url 'tasks:task-delete' pk=task.id%}" style="color: blue">
          Delete
        </a>

        <a href="{% url 'tasks:task-update' pk=task.id%}" style="color: blue">
          Update
        </a>
        {% if task.is_done %}

        <a href="{% url 'tasks:task-list' %}" class="btn btn-secondary link-to-page">
          Undo
        </a>

        {% else %}
          <a href="{% url 'tasks:task-list' %}" class="btn btn-success link-to-page">
          Complete
        </a>
        {% endif %}



      {% endfor %}

        <br>

      {% endfor %}
    </ul>
    {% else %}
    <p>There are is nothing to do</p>
    {% endif %}


{##}
{#   <table class="table">#}
{##}
{##}
{#      <tr>#}
{#        <td>{{ task.content }}#}

{#        dffd#}
{##}
{#        </td>#}
{#        <td><a href="{{ cook.get_absolute_url }}">{{ cook.username }} {% if user == cook %} (Me){% endif %}</a></td>#}
{#        <td>{{ cook.first_name }}</td>#}
{#        <td>{{ cook.last_name }}</td>#}
{#        <td>{{ cook.years_of_experience }}</td>#}
{#      </tr>#}
{#    {% endfor %}#}
{##}
{#    </table>#}
{#    {% else %}#}
{#      <p>There are is nothing to do.</p>#}
{#    {% endif %}#}
{% endblock %}
